---
sidebar: sidebar 
permalink: xcp/xcp-bp-sizing-guidelines.html 
keywords: test, time estimate, copy, sync, rename, append, delete 
summary: 本节提供针对 NFS 使用一百万个不同文件大小执行 XCP 复制和 XCP 同步操作的大致时间。 
---
= 尺寸指南
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
本节提供针对 NFS 使用一百万个不同文件大小执行 XCP 复制和 XCP 同步操作的大致时间。



== 根据测试估算的时间

XCP 复制和同步操作的测试使用与部署相同的测试平台。创建了8K、16K、1MB三组文件共一百万个文件，并实时进行修改。 XCP 同步功能在文件级别执行从源到目标的差异增量更新。增量更新操作是以下四个操作中的一个或多个：重命名现有文件和文件夹、将数据附加到现有文件、删除文件和文件夹以及包含其他硬链接、软链接和多链接。为了测试目的，我们重点关注重命名、附加、删除和链接操作。也就是说，对一百万个文件进行重命名、附加和删除等修改操作，其变化率在10%到90%之间。

下图显示了XCP复制操作的结果。

image:xcp-bp-010.png["该图显示输入/输出对话框或表示书面内容"]

下图显示了 XCP Sync 重命名和链接操作的结果。

image:xcp-bp-008.png["该图显示输入/输出对话框或表示书面内容"]

文件大小与 `xcp sync`传输重命名的源文件的完成时间；图表是线性的。

链接类型有软链接、硬链接和多链接。软链接被视为普通文件。文件的大小与完成 XCP 同步操作的时间无关。

下图显示了 XCP 同步附加和删除操作的结果。

image:xcp-bp-009.png["该图显示输入/输出对话框或表示书面内容"]

对于附加和删除操作，大文件比小文件需要更多时间。完成操作的时间与附加和删除更改的百分比呈线性关系。



== XCP 1.6.1 与 XCP 1.5 的比较

与以前的版本相比，XCP 1.6.3 和 1.7 提供了改进的性能。以下部分显示了 XCP 1.6.3 和 1.7 对一百万个文件（分别为 8K、16K 和 1MB）的同步性能比较。

下图显示了 XCP 1.6.3 与 1.7 的 XCP 同步性能结果（一百万个 8K 文件）。

image:xcp-bp-011.png["该图显示输入/输出对话框或表示书面内容"]

下图显示了 XCP 1.6.1 与 1.5 的 XCP 同步性能结果（一百万个 16K 大小的文件）。

image:xcp-bp-012.png["该图显示输入/输出对话框或表示书面内容"]

下图显示了 XCP 1.6.1 与 1.5 的 XCP 同步性能结果，其中一百万个文件的大小为 1MB。

image:xcp-bp-013.png["该图显示输入/输出对话框或表示书面内容"]

平均而言，XCP 1.7 的性能比 XCP 1.6.3 有所提高或相似， `xcp sync`差异增量更新——对一百万个 1MB 大小的文件进行重命名、附加、链接和删除操作。

根据此性能验证， NetApp建议使用 XCP 1.7 进行本地和云端数据迁移。
